{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/Pawan%20Paliwal/Projects/LIVE/Afford%20Github/store/frontendSlice/metaAPISlice.tsx"],"sourcesContent":["//metaAPISlice.tsx\r\nimport { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nconst username = process.env.NEXT_PUBLIC_BASIC_AUTH_USER;\r\nconst password = process.env.NEXT_PUBLIC_BASIC_AUTH_PASS;\r\nconst apiUrl = process.env.NEXT_PUBLIC_API_URL; // e.g. http://localhost:3002\r\n\r\n// Universal Basic Auth header\r\nfunction makeAuthHeader() {\r\n  if (!username || !password) return \"\";\r\n  const raw = `${username}:${password}`;\r\n  if (typeof window === \"undefined\") {\r\n    // server\r\n    return \"Basic \" + Buffer.from(raw).toString(\"base64\");\r\n  } else {\r\n    // browser\r\n    return \"Basic \" + btoa(raw);\r\n  }\r\n}\r\n\r\nconst authHeader = makeAuthHeader();\r\n\r\n// Reusable baseQuery\r\nexport const baseQueryWithAuth = fetchBaseQuery({\r\n  baseUrl: `${apiUrl}/page`, // match backend mounting\r\n  credentials: \"include\",\r\n  prepareHeaders: (headers) => {\r\n    if (authHeader) headers.set(\"Authorization\", authHeader);\r\n    return headers;\r\n  },\r\n});\r\n\r\n// MetaData type\r\nexport interface MetaDataType {\r\n  StaticID: number;\r\n  MetaTitle: string;\r\n  MetaDescriptions: string;\r\n  MetaKeywords: string;\r\n  type?: string;\r\n  [key: string]: any;\r\n}\r\n\r\n// RTK Query slice\r\nexport const metaAPISlice = createApi({\r\n  reducerPath: \"metaAPI\",\r\n  baseQuery: baseQueryWithAuth,\r\n  tagTypes: [\"Static\"],\r\n  endpoints: (builder) => ({\r\n    getMetaDataById: builder.query<MetaDataType, number>({\r\n      query: (id) => `/meta_data/${id}`,\r\n      providesTags: (result, error, id) => [{ type: \"Static\", id }],\r\n    }),\r\n    getMetaDataByUrl: builder.query<MetaDataType, string>({\r\n      query: (url) => `/meta_data_by_url/${encodeURIComponent(url)}`,\r\n      providesTags: (result, error, url) => [{ type: \"Static\", id: url }],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetMetaDataByIdQuery,\r\n  useGetMetaDataByUrlQuery,\r\n} = metaAPISlice;\r\n\r\n// --------------------------------------------\r\n// Server-side helpers for SSR / generateMetadata\r\n// --------------------------------------------\r\nexport async function fetchMetaDataById(id: number): Promise<MetaDataType> {\r\n  const res = await baseQueryWithAuth(\r\n    { url: `/meta_data/${id}`, method: \"GET\" },\r\n    {} as any,\r\n    {}\r\n  );\r\n\r\n  if (\"error\" in res) {\r\n    throw new Error(\r\n      `Meta API by ID failed (status: ${(res.error as any)?.status ?? \"UNKNOWN\"}) ‚Üí ${\r\n        (res.error as any)?.error || \"Unknown error\"\r\n      }`\r\n    );\r\n  }\r\n\r\n  const payload = res.data as { success: boolean; data?: MetaDataType };\r\n  if (!payload?.success || !payload.data) {\r\n    throw new Error(`Meta API returned empty/failed result for ID: ${id}`);\r\n  }\r\n\r\n  return payload.data;\r\n}\r\n\r\nexport async function fetchMetaDataByUrl(url: string): Promise<MetaDataType> {\r\n  //const endpoint = `${apiUrl}/meta_data_by_url/${encodeURIComponent(url)}`;\r\n  //console.log(\"üëâ [fetchMetaDataByUrl] Requesting meta for URL:\", url);\r\n\r\n  const res = await baseQueryWithAuth(\r\n    { url: `/meta_data_by_url/${url}`, method: \"GET\" },\r\n    {} as any,\r\n    {}\r\n  );\r\n\r\n  // RTK Query returns { data?, error? }\r\n  if (res.error) {\r\n    const status = (res.error as any)?.status ?? \"UNKNOWN_STATUS\";\r\n    const message =\r\n      (res.error as any)?.data?.message ||\r\n      (res.error as any)?.error ||\r\n      \"Unknown error\";\r\n    //console.error(\"‚ùå [fetchMetaDataByUrl]\", message);\r\n    throw new Error(\r\n      `Meta API request failed (status: ${status}) ‚Üí ${message} for url: ${url}`\r\n    );\r\n  }\r\n\r\n  if (!res.data || typeof res.data !== \"object\") {\r\n    //console.error(\"‚ùå [fetchMetaDataByUrl] Non-JSON response:\", res.data);\r\n    throw new Error(`Meta API returned non-JSON response for url: ${url}`);\r\n  }\r\n\r\n  const payload = res.data as { success: boolean; data?: MetaDataType };\r\n  if (!payload.success || !payload.data)\r\n    throw new Error(\"Meta API returned empty or failed result\");\r\n\r\n  //console.log(\"‚úÖ [fetchMetaDataByUrl] Meta data found:\", payload.data);\r\n  return payload.data;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,kBAAkB;AAClB;AAAA;;AAEA,MAAM;AACN,MAAM;AACN,MAAM,wEAA0C,6BAA6B;AAE7E,8BAA8B;AAC9B,SAAS;IACP;;IACA,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,UAAU;IACrC,wCAAmC;QACjC,SAAS;QACT,OAAO,WAAW,OAAO,IAAI,CAAC,KAAK,QAAQ,CAAC;IAC9C;;AAIF;AAEA,MAAM,aAAa;AAGZ,MAAM,oBAAoB,IAAA,kMAAc,EAAC;IAC9C,SAAS,GAAG,OAAO,KAAK,CAAC;IACzB,aAAa;IACb,gBAAgB,CAAC;QACf,IAAI,YAAY,QAAQ,GAAG,CAAC,iBAAiB;QAC7C,OAAO;IACT;AACF;AAaO,MAAM,eAAe,IAAA,+NAAS,EAAC;IACpC,aAAa;IACb,WAAW;IACX,UAAU;QAAC;KAAS;IACpB,WAAW,CAAC,UAAY,CAAC;YACvB,iBAAiB,QAAQ,KAAK,CAAuB;gBACnD,OAAO,CAAC,KAAO,CAAC,WAAW,EAAE,IAAI;gBACjC,cAAc,CAAC,QAAQ,OAAO,KAAO;wBAAC;4BAAE,MAAM;4BAAU;wBAAG;qBAAE;YAC/D;YACA,kBAAkB,QAAQ,KAAK,CAAuB;gBACpD,OAAO,CAAC,MAAQ,CAAC,kBAAkB,EAAE,mBAAmB,MAAM;gBAC9D,cAAc,CAAC,QAAQ,OAAO,MAAQ;wBAAC;4BAAE,MAAM;4BAAU,IAAI;wBAAI;qBAAE;YACrE;QACF,CAAC;AACH;AAEO,MAAM,EACX,uBAAuB,EACvB,wBAAwB,EACzB,GAAG;AAKG,eAAe,kBAAkB,EAAU;IAChD,MAAM,MAAM,MAAM,kBAChB;QAAE,KAAK,CAAC,WAAW,EAAE,IAAI;QAAE,QAAQ;IAAM,GACzC,CAAC,GACD,CAAC;IAGH,IAAI,WAAW,KAAK;QAClB,MAAM,IAAI,MACR,CAAC,+BAA+B,EAAE,AAAC,IAAI,KAAK,EAAU,UAAU,UAAU,IAAI,EAC5E,AAAC,IAAI,KAAK,EAAU,SAAS,iBAC7B;IAEN;IAEA,MAAM,UAAU,IAAI,IAAI;IACxB,IAAI,CAAC,SAAS,WAAW,CAAC,QAAQ,IAAI,EAAE;QACtC,MAAM,IAAI,MAAM,CAAC,8CAA8C,EAAE,IAAI;IACvE;IAEA,OAAO,QAAQ,IAAI;AACrB;AAEO,eAAe,mBAAmB,GAAW;IAClD,2EAA2E;IAC3E,uEAAuE;IAEvE,MAAM,MAAM,MAAM,kBAChB;QAAE,KAAK,CAAC,kBAAkB,EAAE,KAAK;QAAE,QAAQ;IAAM,GACjD,CAAC,GACD,CAAC;IAGH,sCAAsC;IACtC,IAAI,IAAI,KAAK,EAAE;QACb,MAAM,SAAS,AAAC,IAAI,KAAK,EAAU,UAAU;QAC7C,MAAM,UACJ,AAAC,IAAI,KAAK,EAAU,MAAM,WACzB,IAAI,KAAK,EAAU,SACpB;QACF,mDAAmD;QACnD,MAAM,IAAI,MACR,CAAC,iCAAiC,EAAE,OAAO,IAAI,EAAE,QAAQ,UAAU,EAAE,KAAK;IAE9E;IAEA,IAAI,CAAC,IAAI,IAAI,IAAI,OAAO,IAAI,IAAI,KAAK,UAAU;QAC7C,uEAAuE;QACvE,MAAM,IAAI,MAAM,CAAC,6CAA6C,EAAE,KAAK;IACvE;IAEA,MAAM,UAAU,IAAI,IAAI;IACxB,IAAI,CAAC,QAAQ,OAAO,IAAI,CAAC,QAAQ,IAAI,EACnC,MAAM,IAAI,MAAM;IAElB,uEAAuE;IACvE,OAAO,QAAQ,IAAI;AACrB"}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///D:/Pawan%20Paliwal/Projects/LIVE/Afford%20Github/components/frontendcomponents/pages/media/index.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/frontendcomponents/pages/media/index.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/frontendcomponents/pages/media/index.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuT,GACpV,qFACA","ignoreList":[0]}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///D:/Pawan%20Paliwal/Projects/LIVE/Afford%20Github/components/frontendcomponents/pages/media/index.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/frontendcomponents/pages/media/index.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/frontendcomponents/pages/media/index.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA","ignoreList":[0]}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///D:/Pawan%20Paliwal/Projects/LIVE/Afford%20Github/app/%28frontend%29/media/page.tsx"],"sourcesContent":["// app/page.tsx\r\nimport { Metadata } from \"next\";\r\nimport { fetchMetaDataById } from \"@/store/frontendSlice/metaAPISlice\";\r\nimport MediaPage from \"@/components/frontendcomponents/pages/media\";\r\n\r\nconst API_ID = 10;\r\nconst CANONICAL_URL =\r\n  process.env.NEXT_PUBLIC_CANONICAL_URL ?? \"http://localhost:3000\";\r\n\r\nexport async function generateMetadata(): Promise<Metadata> {\r\n  try {\r\n    const meta = await fetchMetaDataById(API_ID);\r\n    const defaultTitle = \"afford\";\r\n    return {\r\n      title: meta?.MetaTitle || defaultTitle,\r\n      description: meta?.MetaDescriptions || \"\",\r\n      keywords: meta?.MetaKeywords || \"\",\r\n      alternates: { canonical: `${CANONICAL_URL}/about-us` },\r\n      openGraph: {\r\n        type: \"website\",\r\n        url: `${CANONICAL_URL}/about-us`,\r\n        title: meta?.MetaTitle || defaultTitle,\r\n        description: meta?.MetaDescriptions || \"\",\r\n        images: [\r\n          {\r\n            url: \"/logo.svg\",\r\n            width: 1200,\r\n            height: 630,\r\n            alt: \"afford\",\r\n          },\r\n        ],\r\n      },\r\n      twitter: {\r\n        card: \"summary_large_image\",\r\n        title: meta?.MetaTitle || defaultTitle,\r\n        description: meta?.MetaDescriptions || \"\",\r\n        images: [\"/logo.svg\"],\r\n      },\r\n      icons: {\r\n        icon: \"/favicon.ico\",\r\n      },\r\n    };\r\n  } catch (err) {\r\n    console.error(\"Meta fetch failed\", err);\r\n    return {\r\n      title: \"afford\",\r\n      description: \"\",\r\n    };\r\n  }\r\n}\r\n\r\nexport default function MediaPageData() {\r\n  return (\r\n    <MediaPage />\r\n  );\r\n}"],"names":[],"mappings":"AAAA,eAAe;;;;;;;;AAEf;AACA;;;;AAEA,MAAM,SAAS;AACf,MAAM,gBACJ,8DAAyC;AAEpC,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,MAAM,IAAA,4JAAiB,EAAC;QACrC,MAAM,eAAe;QACrB,OAAO;YACL,OAAO,MAAM,aAAa;YAC1B,aAAa,MAAM,oBAAoB;YACvC,UAAU,MAAM,gBAAgB;YAChC,YAAY;gBAAE,WAAW,GAAG,cAAc,SAAS,CAAC;YAAC;YACrD,WAAW;gBACT,MAAM;gBACN,KAAK,GAAG,cAAc,SAAS,CAAC;gBAChC,OAAO,MAAM,aAAa;gBAC1B,aAAa,MAAM,oBAAoB;gBACvC,QAAQ;oBACN;wBACE,KAAK;wBACL,OAAO;wBACP,QAAQ;wBACR,KAAK;oBACP;iBACD;YACH;YACA,SAAS;gBACP,MAAM;gBACN,OAAO,MAAM,aAAa;gBAC1B,aAAa,MAAM,oBAAoB;gBACvC,QAAQ;oBAAC;iBAAY;YACvB;YACA,OAAO;gBACL,MAAM;YACR;QACF;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO;YACL,OAAO;YACP,aAAa;QACf;IACF;AACF;AAEe,SAAS;IACtB,qBACE,8OAAC,uKAAS;;;;;AAEd"}}]
}